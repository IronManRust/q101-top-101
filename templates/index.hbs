<!DOCTYPE html>
<html>

<head>
    <title>{{title}}</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no" />
    <meta name="description" content="{{description}}" />
    <meta name="keywords" content="{{keywords}}" />
    <meta name="author" content="{{author}}" />
    <link href="./favicon.ico" type="image/x-icon" rel="icon" />
    <link href="./bootstrap.min.css" type="text/css" rel="stylesheet" />
    <script src="./jquery.slim.min.js" type="text/javascript"></script>
    <script src="./bootstrap.min.js" type="text/javascript"></script>
</head>

<body>
    <div class="container">
        <div class="jumbotron text-center">
            <h1>{{title}}</h1>
        </div>
        <div class="text-center">
            <p>{{description}}</p>
            <p><a href="./countdown.json" target="_blank">Countdown Data JSON</a></p>
            <p><a href="./artists.json" target="_blank">Artists Data JSON</a></p>
        </div>
        <div class="accordion" id="accordion">
            {{#each years}}
            <div class="card">
                <div class="card-header" id="card-header-{{this.year}}">
                    <button class="btn btn-block" type="button" data-toggle="collapse" data-target="#collapse-{{this.year}}">
                        <h2>
                            {{this.year}}
                        </h2>
                    </button>
                </div>
                <div class="collapse" id="collapse-{{this.year}}" data-parent="#accordion">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">Position</th>
                                <th scope="col">Artist</th>
                                <th scope="col">Links</th>
                                <th scope="col">Song / Music Video</th>
                            </tr>
                        </thead>
                        <tbody>
                            {{#each this.items}}
                            <tr>
                                <th scope="row">{{this.position}}</th>
                                <td>{{this.artist}}</td>
                                <td>
                                    {{#if this.facebook}}
                                    <a href="{{this.facebook}}" target="_blank">
                                        <img src="./facebook-enabled.png" title="Facebook Page" />
                                    </a>
                                    {{else}}
                                    <span>
                                        <img src="./facebook-disabled.png" title="Facebook Page" />
                                    </span>
                                    {{/if}}

                                    {{#if this.twitter}}
                                    <a href="{{this.twitter}}" target="_blank">
                                        <img src="./twitter-enabled.png" title="Twitter Page" />
                                    </a>
                                    {{else}}
                                    <span>
                                        <img src="./twitter-disabled.png" title="Twitter Page" />
                                    </span>
                                    {{/if}}
                                </td>
                                <td>
                                    {{#if this.musicVideoURL}}
                                    <a href="{{this.musicVideoURL}}" target="_blank"><!-- TODO: {{this.musicVideoSource}} -->{{this.song}}</a>
                                    {{else}}
                                    <!-- TODO: {{this.musicVideoSource}} -->{{this.song}}
                                    {{/if}}
                                </td>
                            </tr>
                            {{/each}}
                        </tbody>
                    </table>
                </div>
            </div>
            {{/each}}
        </div>
        <br />
        <div class="text-center">
            <p>This countdown lists a total of {{positions}} positions consisting of {{artists.unique}} unique artists, {{artists.facebook}} of whom have Facebook accounts and {{artists.twitter}} of whom have Twitter accounts.</p>
            <p>A total of {{songs.unique}} songs appear on this countdown, which may be less than the total number of positions as a song can appear on the list for multiple years. Of those songs, {{songs.musicVideo}} have music videos.</p>
            <p>Source code for <em>{{name}}</em> available <a href="{{homepage}}" target="_blank">here</a>.</p>
            <p>Artist and music video links retrieved from <a href="https://www.theaudiodb.com" target="_blank">TheAudioDB</a>.</p>
        </div>
    </div>
</body>

</html>